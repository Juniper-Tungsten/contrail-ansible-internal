---
- name: configure device-manager rabbit_server
  ini_file: dest={{ device_manager_conf }} section=DEFAULTS option=rabbit_server value={{ rabbitmq_servers_with_port }}  create=yes
  notify: restart device-manager

- name: configure device-manager api_server_ip
  ini_file: dest={{ device_manager_conf }} section=DEFAULTS option=api_server_ip value={{ api_server_ip }}
  notify: restart device-manager

- name: configure device-manager api_server_port
  ini_file: dest={{ device_manager_conf }} section=DEFAULTS option=api_server_port value={{ api_server_port }}
  notify: restart device-manager

- name: configure device-manager api_server_use_ssl
  ini_file: dest={{ device_manager_conf }} section=DEFAULTS option=api_server_use_ssl value={{ api_server_use_ssl }}
  notify: restart device-manager

- name: configure device-manager zk_server_ip
  ini_file: dest={{ device_manager_conf }} section=DEFAULTS option=zk_server_ip value={{ zk_servers_with_port }}
  notify: restart device-manager

- name: configure device-manager log_file
  ini_file: dest={{ device_manager_conf }} section=DEFAULTS option=log_file value={{ device_manager_log }}
  notify: restart device-manager

- name: configure device-manager log_level
  ini_file: dest={{ device_manager_conf }} section=DEFAULTS option=log_level value={{ device_manager_log_level }}
  notify: restart device-manager

- name: configure device-manager log_local
  ini_file: dest={{ device_manager_conf }} section=DEFAULTS option=log_local value=1
  notify: restart device-manager

- name: configure device-manager cassandra_server_list
  ini_file: dest={{ device_manager_conf }} section=DEFAULTS option=cassandra_server_list value={{ configdb_servers_with_port }}
  notify: restart device-manager

- name: configure device-manager collectors
  ini_file: dest={{ device_manager_conf }} section=DEFAULTS option=collectors value={{ analytics_collectors_with_port }}
  notify: restart device-manager
