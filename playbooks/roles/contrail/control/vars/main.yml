---
##
# Making common reusable variable templates to reduce duplication
##
# Infra configuration entries like cassandra, rabbitmq etc
control_infra_configs:
  log_local: "{{ log_local }}"
  hostip: "{{ my_controller_ip }}"
  hostname: "{{ ansible_hostname }}"

# Now add contrail-control specific config entries
control_specific_configs:
  DEFAULT:
    log_file: "{{ control_log }}"
    log_level: "{{ control_log_level }}"
    http_server_port: "{{ control_introspect_port }}"
    xmpp_server_port: "{{ xmpp_server_port }}"
    bgp_port: "{{ bgp_port }}"
    collectors: "{{ analytics_collectors_with_port}}"
  IFMAP:
    user: "{{ control_ifmap_username }}"
    password: "{{ control_ifmap_username }}"
    certs_store: "{{ ifmap_certs_store|default('') }}"
    server_url: "https://127.0.0.1:{{ ifmap_server_port }}"
    # AMQP related configs
    rabbitmq_server_list: "{{ rabbitmq_servers_with_port_space_delim }}"
    rabbitmq_user: "{{ rabbitmq_user }}"
    rabbitmq_password: "{{ rabbitmq_password }}"
    rabbitmq_use_ssl: "{{ contrail_rabbitmq_ssl }}"
    # Config db configs
    config_db_server_list: "{{ configdb_servers_with_cql_port }}"

# contrail-dns specific config entries
dns_specific_configs:
  DEFAULT:
    log_file: "{{ dns_log }}"
    log_level: "{{ dns_log_level }}"
    named_config_file: "{{ named_config_file }}"
    named_config_directory: "{{ named_config_directory }}"
    named_log_file: "{{ named_log_file }}"
    rndc_config_file: "{{ rndc_config_file }}"
    http_server_port: "{{ dns_introspect_port }}"
    dns_server_port: "{{ dns_server_port }}"
    collectors: "{{ analytics_collectors_with_port}}"
  IFMAP:
    user: "{{ dns_ifmap_username }}"
    password: "{{ dns_ifmap_username }}"
    certs_store: "{{ ifmap_certs_store|default('') }}"
    server_url: "https://127.0.0.1:{{ ifmap_server_port }}"
    # AMQP related configs
    rabbitmq_server_list: "{{ rabbitmq_servers_with_port_space_delim }}"
    rabbitmq_user: "{{ rabbitmq_user }}"
    rabbitmq_password: "{{ rabbitmq_password }}"
    rabbitmq_use_ssl: "{{ contrail_rabbitmq_ssl }}"
    # Config db configs
    config_db_server_list: "{{ configdb_servers_with_cql_port }}"

control_setup_target: "{{ 'setup' if enable_control_service else 'disable' }}"
control_service_state: "{{ 'started' if enable_control_service else 'stopped' }}"
control_service_enabled: "{{ 'yes' if enable_control_service else 'no' }}"
