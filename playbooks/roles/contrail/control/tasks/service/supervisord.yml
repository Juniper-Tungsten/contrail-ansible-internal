---
# Service management
- name: Make sure control service is up
  supervisorctl: name="contrail-control" state=started config=/etc/contrail/supervisord_control.conf
  tags: [service, contrail.control.service, contrail.controller.service, contrail.controlnode.service]
  when: supervisor_control_ready

- name: Make sure contrail-dns service is up
  supervisorctl: name="contrail-dns" state=started config=/etc/contrail/supervisord_control.conf
  tags: [service, contrail.dns.service, contrail.controller.service, contrail.controlnode.service]
  when: supervisor_control_ready

- name: Make sure control nodemanager service is up
  supervisorctl: name="contrail-control-nodemgr" state=started config=/etc/contrail/supervisord_control.conf
  tags: [service, contrail.control.nodemgr.service, contrail.controller.service, contrail.controlnode.service]
  when: supervisor_control_ready
