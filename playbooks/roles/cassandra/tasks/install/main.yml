---
- name: Setup repo
  include: repo/debian.yml
  when: ansible_os_family == 'Debian' and cassandra_manage_repo
  tags: [cassandra.install, install, cassandra.repo, repo, package, cassandra.package]

- name: stop cassandra from running with default config
  lineinfile: dest=/etc/sensitive_services line=cassandra state=present create=yes
  when: ansible_os_family == 'Debian'

- name: Install debian packages
  include: debian.yml
  when: ansible_os_family == 'Debian'

- name: Install Cassandra on Redhat platforms
  include: RedHat.yml
  when: ansible_os_family == 'RedHat'
